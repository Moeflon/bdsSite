{% extends "main/main.html" %}
{% load staticfiles %}
{% load crispy_forms_tags %}

{% block styles %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.css" integrity="sha256-aa0xaJgmK/X74WM224KMQeNQC2xYKwlAt08oZqjeF0E=" crossorigin="anonymous" />
<link rel="stylesheet" href="{% static 'main/css/home.css' %}">
<link rel="stylesheet" href="{% static 'main/css/dashboard.css' %}">
{% endblock %}
{% block content %}
<!-- <div class="text-center">
    <h2 class="display-4" style="color: white; font-weight: 700;">Insights</h2>
</div> -->
<div class="mt-5 container chartContainer">
    <div class="text-left">
        <h1 class="" style="color: white; font-weight: 700;">The more affected, the more indifferent</h4>
    </div>
    <div class="chart px-4 py-4 mt-3" >
        <canvas id="diffInExcitement"></canvas>
    </div>
    <p class="mt-3">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Inventore id perferendis labore facilis quos quae eum ipsum eos quas nesciunt laudantium dignissimos sunt quisquam deserunt fuga odit, debitis optio! Sed!</p>
</div>

<div class="mt-5 container chartContainer">
    <div class="text-left">
        <h1 class="" style="color: white; font-weight: 700;">On average not much difference in overall negativity</h4>
    </div>
    <div class="chart px-4 py-4 mt-3" >
        <canvas id="diffNegativity"></canvas>
    </div>
    <p class="mt-3">After sentiment: 0.57, before sentiment: 0.56 Lorem ipsum dolor, sit amet consectetur adipisicing elit. Inventore id perferendis labore facilis quos quae eum ipsum eos quas nesciunt laudantium dignissimos sunt quisquam deserunt fuga odit, debitis optio! Sed!</p>
</div>

<div class="mt-5 container chartContainer">
    <div class="text-left">
        <h1 class="" style="color: white; font-weight: 700;">Negative people become more positive</h4>
    </div>
    <div class="chart px-4 py-4 mt-3" >
        <canvas id="diffNegPeople"></canvas>
    </div>
    <p class="mt-3"> Lorem ipsum dolor, sit amet consectetur adipisicing elit. Inventore id perferendis labore facilis quos quae eum ipsum eos quas nesciunt laudantium dignissimos sunt quisquam deserunt fuga odit, debitis optio! Sed!</p>
</div>

<div class="mt-5 container chartContainer">
    <div class="text-left">
        <h1 class="" style="color: white; font-weight: 700;">Users become way more active</h4>
    </div>
    <div class="chart px-4 py-4 mt-3" >
        <canvas id="diffActivity"></canvas>
    </div>
    <p class="mt-3"> Lorem ipsum dolor, sit amet consectetur adipisicing elit. Inventore id perferendis labore facilis quos quae eum ipsum eos quas nesciunt laudantium dignissimos sunt quisquam deserunt fuga odit, debitis optio! Sed!</p>
</div>



{% endblock %}

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
<!-- <script>
    
    window.onload = function() {
        
    };
</script> -->
<script>
    var barChartData = {
        labels: {{excitementLabels|safe}},
        datasets: [{
            type: 'line',
            label: 'Hospitalizations per 100k inhabitants',
            borderWidth: 4,
            fill: false,
            backgroundColor: '#ffce56',
            borderColor: '#ffce56',
            yAxisID: 'y-axis-2',
            data: {{hospitalizations100k|safe}}
        }, {
            type: 'bar',
            label: 'Rather indifferent',
            backgroundColor: '#ff6384',
            yAxisID: 'y-axis-1',
            data: {{excitementIndifferent|safe}}
        }, {
            type: 'bar',
            label: 'Strong optimists',
            backgroundColor: '#36a2eb',
            yAxisID: 'y-axis-1',
            data: {{excitementOptimists|safe}}
        },{
            type: 'bar',
            label: 'Strong pessimists',
            backgroundColor: '#cc65fe',
            yAxisID: 'y-axis-1',
            data: {{excitementPessimists|safe}}
        }]

    };
    var barChartData2 = {
        labels: [-1.    , -0.9795, -0.959 , -0.9385, -0.918 , -0.8975, -0.877 ,
       -0.8565, -0.836 , -0.8155, -0.795 , -0.7745, -0.754 , -0.7335,
       -0.713 , -0.6925, -0.672 , -0.6515, -0.631 , -0.6105, -0.59  ,
       -0.5695, -0.549 , -0.5285, -0.508 , -0.4875, -0.467 , -0.4465,
       -0.426 , -0.4055, -0.385 , -0.3645, -0.344 , -0.3235, -0.303 ,
       -0.2825, -0.262 , -0.2415, -0.221 , -0.2005, -0.18  , -0.1595,
       -0.139 , -0.1185, -0.098 , -0.0775, -0.057 , -0.0365, -0.016 ,
        0.0045,  0.025 ,  0.0455,  0.066 ,  0.0865,  0.107 ,  0.1275,
        0.148 ,  0.1685,  0.189 ,  0.2095,  0.23  ,  0.2505,  0.271 ,
        0.2915,  0.312 ,  0.3325,  0.353 ,  0.3735,  0.394 ,  0.4145,
        0.435 ,  0.4555,  0.476 ,  0.4965,  0.517 ,  0.5375,  0.558 ,
        0.5785,  0.599 ,  0.6195,  0.64  ,  0.6605,  0.681 ,  0.7015,
        0.722 ,  0.7425,  0.763 ,  0.7835,  0.804 ,  0.8245,  0.845 ,
        0.8655,  0.886 ,  0.9065,  0.927 ,  0.9475,  0.968 ,  0.9885,
        1.009 ,  1.0295,  1.05  ],
        datasets: [{
            type: 'line',
            label: 'Hospitalizations per 100k inhabitants',
            borderWidth: 4,
            fill: false,
            //backgroundColor: '#ffce56',
            borderColor: '#ffce56',
            yAxisID: 'y-axis',
            data: [6.538348516015281,
 0.0,
 0.0,
 0.0,
 0.02938583602703497,
 0.02938583602703497,
 0.014692918013517485,
 0.02938583602703497,
 0.07346459006758742,
 0.05877167205406994,
 0.1028504260946224,
 0.08815750808110491,
 0.32324419629738466,
 0.05877167205406994,
 0.23508668821627976,
 0.16162209814869233,
 0.6905671466353218,
 0.13223626212165734,
 0.29385836027034967,
 0.44078754040552454,
 0.42609462239200707,
 0.22039377020276227,
 0.2644725242433147,
 0.22039377020276227,
 1.8953864237437557,
 0.2791654422568322,
 0.484866294446077,
 0.6024096385542169,
 0.543637966500147,
 0.969732588892154,
 0.8081104907434615,
 0.5730238025271819,
 2.2333235380546577,
 0.7199529826623567,
 1.1460476050543638,
 0.7934175727299441,
 1.9835439318248604,
 0.940346752865119,
 1.2195121951219512,
 1.851307669703203,
 2.9238906846899795,
 2.086394357919483,
 1.792535997649133,
 2.556567734352042,
 2.45371730825742,
 2.3949456362033503,
 2.8357331766088745,
 3.0561269468116365,
 7.508081104907435,
 2.45371730825742,
 2.3802527181898325,
 2.3214810461357627,
 2.086394357919483,
 1.3517484572436087,
 2.027622685865413,
 1.4986776373787833,
 1.2048192771084338,
 1.2195121951219512,
 1.6015280634734057,
 0.6024096385542169,
 1.278283867176021,
 0.7493388186893917,
 0.6171025565677344,
 0.5142521304731119,
 1.1313546870408464,
 0.3673229503379371,
 0.44078754040552454,
 0.4701733764325595,
 0.39670878636497203,
 0.543637966500147,
 0.4701733764325595,
 0.3379371143109022,
 0.17631501616220982,
 1.1460476050543638,
 0.35263003232441964,
 0.16162209814869233,
 0.35263003232441964,
 0.2791654422568322,
 0.3379371143109022,
 0.2057008521892448,
 0.22039377020276227,
 0.484866294446077,
 0.17631501616220982,
 0.3085512782838672,
 0.11754334410813988,
 0.24977960622979722,
 0.13223626212165734,
 0.17631501616220982,
 0.13223626212165734,
 0.11754334410813988,
 0.22039377020276227,
 0.05877167205406994,
 0.05877167205406994,
 0.1028504260946224,
 0.11754334410813988,
 0.044078754040552455,
 0.07346459006758742,
 0.0,
 0.0,
 13.047311196003527]
        }]

    };
   
    var barChartData3 = {
        labels: {{excitementLabels|safe}},
        datasets: [ {
            type: 'bar',
            label: 'Change in active days',
            backgroundColor: '#ff6384',
            yAxisID: 'y-axis-1',
            data: {{diffActivity|safe}}
        }, {
            type: 'bar',
            label: 'Change in tweets per active day',
            backgroundColor: '#36a2eb',
            yAxisID: 'y-axis-1',
            data: {{diffRatio|safe}}
        }]

    };
    var barChartData4 = {
        labels: {{excitementLabels|safe}},
        datasets: [ {
            type: 'bar',
            label: 'Change in negativity',
            backgroundColor: '#ff6384',
            yAxisID: 'y-axis-1',
            data: {{diffNegativePeople|safe}}
        }]

    };

    window.onload = function() {
        var cty = document.getElementById('diffNegativity').getContext('2d');
        window.myLine = new Chart(cty, {
            type: 'line',
            data: barChartData2,
            
            options: {
                title: {
                    display: false,
                    text: 'Chart.js Bar Chart - Stacked'
                },
                elements: { point: { radius: 0 } },
                tooltips: {
                    mode: 'index',
                    intersect: false
                },
                responsive: true,
                scales: {
                    xAxes: [{
                        
                    }],
                    yAxes: [{
							type: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance
							display: true,
							position: 'left',
							id: 'y-axis',
						}
						]
                }
            }
        });
        var ctz = document.getElementById('diffActivity').getContext('2d');
        window.activity = new Chart(ctz, {
            type: 'bar',
            data: barChartData3,
            
            options: {
                title: {
                    display: false,
                    text: 'Chart.js Bar Chart - Stacked'
                },
                elements: { point: { radius: 0 } },
                tooltips: {
                    mode: 'index',
                    intersect: false
                },
                responsive: true,
                scales: {
                    xAxes: [{
                        
                    }],
                    yAxes: [{
							type: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance
							display: true,
							position: 'left',
							id: 'y-axis-1',
						}
						]
                }
            }
        });
        var ctw = document.getElementById('diffNegPeople').getContext('2d');
        window.negPeopl = new Chart(ctw, {
            type: 'bar',
            data: barChartData4,
            
            options: {
                title: {
                    display: false,
                    text: 'Chart.js Bar Chart - Stacked'
                },
                elements: { point: { radius: 0 } },
                tooltips: {
                    mode: 'index',
                    intersect: false
                },
                responsive: true,
                scales: {
                    xAxes: [{
                        
                    }],
                    yAxes: [{
							type: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance
							display: true,
							position: 'left',
							id: 'y-axis-1',
                            ticks: {
							    
                                max:0
							    
						    }
						}
						]
                }
            }
        });

        var ctx = document.getElementById('diffInExcitement').getContext('2d');
        window.myBar = new Chart(ctx, {
            type: 'bar',
            data: barChartData,
            options: {
                title: {
                    display: false,
                    text: 'Chart.js Bar Chart - Stacked'
                },
                tooltips: {
                    mode: 'index',
                    intersect: false
                },
                responsive: true,
                scales: {
                    xAxes: [{
                        stacked: true,
                    }],
                    yAxes: [{
							type: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance
							display: true,
                            stacked: true,
							position: 'left',
							id: 'y-axis-1',
						}, {
							type: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance
							display: true,
							position: 'right',
							id: 'y-axis-2',
							gridLines: {
								drawOnChartArea: false
							},
                            ticks: {
							    min: 0,
							    
						    }
						}]
                }
            }
        });
    };
</script>
{% endblock %}